# AI Context for QR Code Generator

> **Purpose**: This document provides comprehensive guidance for AI code assistants working with this project. Read this file before making any changes to understand the project structure, conventions, and workflow.

## Project Overview

This is a **simple, static QR Code Generator web application** designed to be:
- **Zero-dependency**: No build tools, no npm, no bundlers
- **User-friendly**: Accessible to non-technical users
- **Privacy-focused**: Runs entirely in the browser, no data sent to servers
- **Open source**: Free alternative to paid QR code services

### Core Philosophy
- Keep it simple - vanilla HTML/CSS/JS only
- No build step required - just open `index.html` in a browser
- Progressive Web App (PWA) enabled for offline use
- Maintain accessibility and responsive design

## File Structure

```
qr-code-generator/
├── index.html          # Main HTML structure
├── styles.css          # All styling (NO inline styles)
├── script.js           # All JavaScript logic
├── manifest.json       # PWA manifest
├── sw.js              # Service worker for PWA
├── icon-192.png       # PWA icon (192x192)
├── icon-512.png       # PWA icon (512x512)
├── README.md          # User-facing documentation
├── CHANGELOG.md       # Version history
├── CONTRIBUTING.md    # Contribution guidelines
├── LICENSE            # MIT License
└── AI_CONTEXT.md      # This file
```

## Tech Stack

- **HTML5**: Semantic structure with accessibility in mind
- **CSS3**: Modern CSS features (Flexbox, Grid, CSS Variables, Gradients)
- **JavaScript**: Vanilla ES6+ (no frameworks, no transpilation)
- **External Library**: `qrcode.js` (loaded via CDN) - DO NOT REMOVE
- **PWA**: Service Worker + Manifest for offline functionality

## Development Workflow

### Before Making Changes
1. **Read the current code** to understand existing patterns
2. **Check `CHANGELOG.md`** to see recent changes
3. **Review open issues** on GitHub if applicable
4. **Test in browser** before and after changes

### Making Changes

#### 1. **HTML Changes** (`index.html`)
- Use semantic HTML5 elements (`<header>`, `<main>`, `<section>`, etc.)
- Maintain accessibility (ARIA labels, alt text, keyboard navigation)
- Keep structure clean and well-commented
- All IDs must be unique and descriptive

#### 2. **CSS Changes** (`styles.css`)
- **ALWAYS** modify `styles.css` for styling
- **NEVER** use inline styles unless dynamically generated by JavaScript
- Follow existing naming conventions (kebab-case for classes)
- Use CSS variables for colors and reusable values
- Maintain responsive design (mobile-first approach)
- Test on multiple screen sizes

#### 3. **JavaScript Changes** (`script.js`)
- Keep all logic in `script.js`
- Use modern ES6+ features (const/let, arrow functions, template literals)
- Follow existing code structure and patterns
- Add comments for complex logic
- Validate user input thoroughly
- Handle errors gracefully with user-friendly messages

#### 4. **PWA Changes** (`manifest.json`, `sw.js`)
- Update `manifest.json` if adding new icons or changing app metadata
- Update `sw.js` cache version when adding new files to cache
- Test offline functionality after changes

### After Making Changes

#### Required Updates
1. **Update `CHANGELOG.md`**:
   - Add entry under `[Unreleased]` section
   - Use format: `- [Category] Description of change`
   - Categories: Added, Changed, Fixed, Removed

2. **Update `README.md`** if:
   - New features added
   - UI changed
   - Usage instructions changed
   - Version number updated

3. **Test Manually**:
   - Open `index.html` in browser
   - Test all affected functionality
   - Test on mobile viewport
   - Test keyboard navigation
   - Test PWA installation (if PWA changes made)

## Feature Implementation Guidelines

### Adding a New Feature

1. **Plan First**:
   - Understand the feature requirements
   - Check if it aligns with project philosophy (simplicity, no build tools)
   - Consider impact on existing features

2. **Implement**:
   - HTML: Add necessary structure to `index.html`
   - CSS: Add styles to `styles.css` (group related styles together)
   - JS: Add logic to `script.js` (use existing patterns)

3. **Document**:
   - Update `CHANGELOG.md` with feature description
   - Update `README.md` Features section
   - Add code comments for complex logic

4. **Test**:
   - Test the new feature thoroughly
   - Test that existing features still work
   - Test on different browsers (Chrome, Firefox, Safari)
   - Test on mobile devices

### Common Feature Patterns

#### Adding a New Customization Option
1. Add HTML control in the "Customization Options" section
2. Add CSS styling following existing button/input patterns
3. Add event listener in `script.js`
4. Update `generateQRCode()` function to use new option
5. Update README.md Features section

#### Adding a New Download Format
1. Add button in the download section
2. Style button consistently with existing download buttons
3. Add click handler that generates the format
4. Test download functionality

## Testing Procedures

### Manual Testing Checklist

Since there are no automated tests, use this checklist:

- [ ] **URL Input**:
  - [ ] Valid URLs generate QR codes
  - [ ] Invalid URLs show error messages
  - [ ] Auto-HTTPS works for URLs without protocol
  - [ ] Enter key triggers generation

- [ ] **Customization**:
  - [ ] All size options work (Small, Medium, Large)
  - [ ] All color presets work
  - [ ] Custom color picker works
  - [ ] Logo upload works (if implemented)

- [ ] **Download**:
  - [ ] PNG download works
  - [ ] JPEG download works
  - [ ] SVG download works
  - [ ] Downloaded files are valid

- [ ] **Responsive Design**:
  - [ ] Works on mobile (< 768px)
  - [ ] Works on tablet (768px - 1024px)
  - [ ] Works on desktop (> 1024px)

- [ ] **Accessibility**:
  - [ ] Keyboard navigation works
  - [ ] Tab order is logical
  - [ ] Focus states are visible
  - [ ] Error messages are clear

- [ ] **PWA** (if applicable):
  - [ ] App installs correctly
  - [ ] Works offline
  - [ ] Icons display correctly

### Browser Testing
Test on at least:
- Chrome/Edge (Chromium)
- Firefox
- Safari (if on Mac)

## Common Tasks

### How to Run the App
```bash
# Option 1: Open directly
open index.html

# Option 2: Use a simple HTTP server (optional)
python3 -m http.server 8000
# Then visit http://localhost:8000
```

### How to Add a New Color Preset
1. Add button in HTML: `<button class="color-btn" data-color="#HEXCODE" style="background: #HEXCODE;"></button>`
2. No JS changes needed (event delegation handles it)
3. Update README.md to reflect new color count

### How to Change QR Code Size Options
1. Update the size buttons' `data-size` attributes in HTML
2. Update the `generateQRCode()` function in `script.js` to handle new sizes
3. Update README.md Features section

### How to Update the Version
1. Update version in `README.md`
2. Update `CHANGELOG.md`:
   - Change `[Unreleased]` to `[X.Y.Z] - YYYY-MM-DD`
   - Add new `[Unreleased]` section at top
3. Consider updating `manifest.json` version if PWA changes made

## Coding Standards

### JavaScript
- Use `const` by default, `let` when reassignment needed
- Use arrow functions for callbacks
- Use template literals for string interpolation
- Use descriptive variable names
- Add comments for non-obvious logic
- Handle errors with try-catch where appropriate

### CSS
- Use CSS variables for repeated values (colors, spacing)
- Group related styles together
- Use meaningful class names
- Maintain consistent spacing (2 spaces indentation)
- Mobile-first media queries

### HTML
- Use semantic elements
- Include ARIA attributes where needed
- Keep structure clean and indented
- Add comments for major sections

## Troubleshooting

### QR Code Not Generating
- Check browser console for errors
- Verify `qrcode.js` library is loaded
- Check if URL validation is passing
- Verify DOM element IDs match between HTML and JS

### Styles Not Applying
- Check if `styles.css` is linked in HTML
- Verify CSS selectors match HTML classes/IDs
- Check browser DevTools for CSS conflicts
- Clear browser cache

### PWA Not Installing
- Verify `manifest.json` is valid JSON
- Check if service worker is registered
- Ensure HTTPS or localhost (PWA requirement)
- Check browser console for PWA errors

## Important Reminders

### ❌ DO NOT
- Add build tools (webpack, npm, etc.)
- Use frameworks (React, Vue, etc.)
- Add inline styles (except dynamic JS-generated values)
- Remove the `qrcode.js` library
- Make changes without updating CHANGELOG.md
- Commit without testing in browser

### ✅ DO
- Keep it simple and vanilla
- Test thoroughly in browser
- Update documentation (README, CHANGELOG)
- Follow existing code patterns
- Maintain accessibility
- Consider mobile users
- Respect the zero-dependency philosophy

## Questions to Ask Before Implementing

1. Does this feature align with the "simple and static" philosophy?
2. Can this be done without adding dependencies?
3. Will this work on mobile devices?
4. Is this accessible to all users?
5. Have I updated all necessary documentation?
6. Have I tested this in a browser?

## Resources

- **qrcode.js Documentation**: https://github.com/davidshimjs/qrcodejs
- **PWA Documentation**: https://web.dev/progressive-web-apps/
- **Project Repository**: https://github.com/pedrosanzmtz/qr-code-generator
- **Live Demo**: https://pedrosanzmtz.github.io/qr-code-generator/

---

**Last Updated**: 2025-12-10
**For Questions**: Create an issue on GitHub or refer to CONTRIBUTING.md
